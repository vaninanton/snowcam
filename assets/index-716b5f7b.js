import{r as x,H as u,o as n,c,d as h,a as i,t as d,b as m,F as p,e as _,f,g as v}from"./vendor-836aa065.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const g=(t,s)=>{const o=t.__vccOpts||t;for(const[a,e]of s)o[a]=e;return o},w={setup(){return{video:x(null)}},props:{src:String,poster:String},methods:{playVideo(){if(u.isSupported()){const t=new u;t.loadSource(this.src),t.attachMedia(this.video),t.on(u.Events.MANIFEST_PARSED,function(){this.video.play()})}else this.video.src=this.src,this.video.play()},fullscreen(){this.video.play(),this.video.requestFullscreen?this.video.requestFullscreen():this.video.webkitrequestFullscreen?this.video.webkitRequestFullscreen():this.video.webkitEnterFullScreen?this.video.webkitEnterFullScreen():this.video.mozRequestFullscreen&&this.video.mozRequestFullScreen()}},mounted(){this.playVideo()}},y=["poster"];function b(t,s,o,a,e,r){return n(),c("video",{class:"absolute inset-0 w-full h-full [mask-image:radial-gradient(white,black)]",poster:o.poster,ref:"video",onClick:s[0]||(s[0]=(...l)=>r.fullscreen&&r.fullscreen(...l)),muted:"",playsinline:""},null,8,y)}const k=g(w,[["render",b]]),F={data(){return{weatherData:null,limit:5}},methods:{async getMeteoBlue(){this.weatherData=await fetch("https://api-v2.shymbulak-dev.com/content-service/weather/meteoblue").then(t=>t.json()).then(t=>t)}},computed:{formattedWeatherData(){if(this.weatherData===null)return[];let t=[],s=this.weatherData.data_1h,o=s.time;for(let e=0;e<o.length;e++){var a={time:h(s.time[e]),temperature:s.temperature[e],img:"pictocode/"+s.pictocode[e]+"_"+(s.isdaylight[e]?"day":"night")+".svg",windspeed:s.windspeed[e],relativehumidity:s.relativehumidity[e],precipitation_probability:s.precipitation_probability[e]};t.push(a)}return t},nowWeather(){return this.formattedWeatherData.length===0?null:this.formattedWeatherData.find(t=>t.time.isSame(h().startOf("hour")))},forecast(){return this.limit?this.formattedWeatherData.filter(t=>t.time.isAfter(h())).slice(0,this.limit):this.formattedWeatherData}},mounted(){this.getMeteoBlue()}},S={class:"flex flex-col items-center justify-center w-screen text-gray-700 px-10 pt-5 bg-gradient-to-br"},D={class:"w-full max-w-screen-sm bg-white p-6 rounded-xl ring-8 ring-white ring-opacity-40"},W={class:"flex justify-between"},$={class:"flex flex-col"},j={class:"text-6xl font-bold"},O={key:0},q=i("span",{class:"font-semibold mt-1 text-gray-500"},"Сейчас",-1),E=["src"],M={class:"flex justify-between mt-12"},N={class:"flex flex-col items-center"},z={class:"font-semibold text-lg"},A=["src"],L={class:"font-semibold mt-1 text-sm"},P={class:"text-xs font-semibold text-gray-400"};function V(t,s,o,a,e,r){return n(),c("div",S,[i("div",D,[i("div",W,[i("div",$,[i("span",j,[r.nowWeather?(n(),c("span",O,d(Math.floor(r.nowWeather.temperature))+"°C",1)):m("",!0)]),q]),r.nowWeather?(n(),c("img",{key:0,src:r.nowWeather.img,alt:"",class:"h-24 w-24"},null,8,E)):m("",!0)]),i("div",M,[(n(!0),c(p,null,_(r.forecast,l=>(n(),c("div",N,[i("span",z,d(Math.floor(l.temperature))+"°C",1),i("img",{src:l.img,alt:"",class:"h-10 w-10 fill-current text-gray-400 mt-3"},null,8,A),i("span",L,d(l.time.format("HH:mm")),1),i("span",P,d(l.windspeed)+" m/s",1)]))),256))])])])}const B=g(F,[["render",V]]),C={class:"grid max-w-[26rem] sm:max-w-[52.5rem] mt-16 sm:mt-20 md:mt-32 grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 mx-auto gap-6 lg:gap-y-8 xl:gap-x-8 lg:max-w-7xl px-4 sm:px-6 lg:px-8"},H={class:"group relative rounded-3xl bg-slate-50 p-6 dark:bg-slate-800/80 dark:highlight-white/5 hover:bg-slate-100 dark:hover:bg-slate-700/50"},R={class:"aspect-video relative rounded-md transform overflow-hidden shadow-[0_2px_8px_rgba(15,23,42,0.08)] bg-slate-200 dark:bg-slate-700"},I=["src"],K={class:"flex flex-wrap items-center mt-6"},T={class:"text-sm leading-6 text-slate-900 dark:text-white font-semibold group-hover:text-sky-500 dark:group-hover:text-sky-400"},G={class:"w-full flex-none text-[0.8125rem] leading-6 text-slate-500 dark:text-slate-400"},J={data(){return{videos:[{title:"Ледник Богдановича",description:"Верхняя станция, камера в сторону сноупарка",src:"https://ipcam.kz/cam6/index.m3u8",poster:"previews/3212b47c65ccc0cb9759f5c08632c563.jpg"},{title:"Средняя станция",description:"Средняя станция, где пили кофе и ели хотдоги",src:"https://ipcam.kz/cam5/index.m3u8",poster:"previews/ffa10e45b1d87ab0aa8796bc7969046b.jpg"},{title:"Базовая станция, бугель",description:"Бугель на базовой станции",src:"https://ipcam.kz/cam2/index.m3u8",poster:"previews/d5361ff25a96271df9ac614d9138806a.jpg"},{title:"Базовая станция",description:"Базовая станция",src:"https://ipcam.kz/cam1/index.m3u8",poster:"previews/197f1dde9a2c929cca5496f225cc2d62.jpg"}]}}},Q=Object.assign(J,{__name:"App",setup(t){return(s,o)=>(n(),c(p,null,[f(B),i("ul",C,[(n(!0),c(p,null,_(s.videos,a=>(n(),c("li",H,[i("div",R,[i("img",{alt:"",fetchpriority:"high",width:"672",height:"494",decoding:"async",class:"absolute inset-0 w-full h-full",style:{color:"transparent"},src:a.poster},null,8,I),f(k,{src:a.src,poster:a.poster},null,8,["src","poster"])]),i("div",K,[i("h2",T,d(a.title),1),i("p",G,d(a.description),1)])]))),256))])],64))}});v(Q).mount("#app");
