import{H as h,o as n,c,a as i,n as y,d as p,t as d,b as m,e as f,F as u,r as g,f as _,g as w}from"./vendor-1d8afed0.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const x=(e,s)=>{const o=e.__vccOpts||e;for(const[a,t]of s)o[a]=t;return o},v={props:{src:String,poster:String},data(){return{loaded:!1}},methods:{playVideo(){let e=this.$refs.video;if(h.isSupported()){const s=new h;s.on(h.Events.MEDIA_ATTACHED,this.mediaAttached),s.on(h.Events.MANIFEST_PARSED,this.manifestParsed),s.loadSource(this.src),s.attachMedia(e)}else e.src=this.src,e.play(),setTimeout(()=>{this.loaded=!0},500)},mediaAttached(e,s){setTimeout(()=>{this.loaded=!0},500)},manifestParsed(e,s){this.$refs.video.play()},fullscreen(){let e=this.$refs.video;e.play(),e.requestFullscreen?e.requestFullscreen():e.webkitrequestFullscreen?e.webkitRequestFullscreen():e.webkitEnterFullScreen?e.webkitEnterFullScreen():e.mozRequestFullscreen&&e.mozRequestFullScreen()}},mounted(){this.playVideo()}},b={class:"aspect-video relative rounded-md transform overflow-hidden shadow-[0_2px_8px_rgba(15,23,42,0.08)] bg-slate-200 dark:bg-slate-700"},k=["src"],W={class:"absolute inset-0 w-full h-full [mask-image:radial-gradient(white,black)]",ref:"video",muted:"",playsinline:""};function D(e,s,o,a,t,r){return n(),c("div",b,[i("img",{alt:"",fetchpriority:"high",width:"672",height:"494",decoding:"async",class:"absolute inset-0 w-full h-full",style:{color:"transparent"},src:o.poster},null,8,k),i("div",{class:y({"opacity-0":!t.loaded,"opacity-100":t.loaded,"transition-opacity":!0}),onClick:s[0]||(s[0]=(...l)=>r.fullscreen&&r.fullscreen(...l))},[i("video",W,null,512)],2)])}const F=x(v,[["render",D]]),S={data(){return{weatherData:null,limit:5}},methods:{async getMeteoBlue(){this.weatherData=await fetch("https://api-v2.shymbulak-dev.com/content-service/weather/meteoblue").then(e=>e.json()).then(e=>e)}},computed:{formattedWeatherData(){if(this.weatherData===null)return[];let e=[],s=this.weatherData.data_1h,o=s.time;for(let t=0;t<o.length;t++){var a={time:p(s.time[t]),temperature:s.temperature[t],img:"snowcam/pictocode/"+s.pictocode[t]+"_"+(s.isdaylight[t]?"day":"night")+".svg",windspeed:s.windspeed[t],relativehumidity:s.relativehumidity[t],precipitation_probability:s.precipitation_probability[t]};e.push(a)}return e},nowWeather(){return this.formattedWeatherData.length===0?null:this.formattedWeatherData.find(e=>e.time.isSame(p().startOf("hour")))},forecast(){return this.limit?this.formattedWeatherData.filter(e=>e.time.isAfter(p())).slice(0,this.limit):this.formattedWeatherData}},mounted(){this.getMeteoBlue()}},A={class:"flex flex-col items-center justify-center w-screen text-gray-700 px-10 pt-5 bg-gradient-to-br"},j={class:"w-full max-w-screen-sm bg-white p-6 rounded-xl ring-8 ring-white ring-opacity-40"},E={class:"flex justify-between"},O={class:"flex flex-col"},M={class:"text-6xl font-bold"},N={key:0},P={class:"flex cols-2 gap-4"},$={class:"text-xs font-light text-gray-400"},q={key:0},z={class:"text-xs font-light text-gray-400"},V={key:0},C=i("span",{class:"font-semibold mt-1 text-gray-500"},"Сейчас",-1),L=["src"],T={class:"flex justify-between mt-12"},B={class:"flex flex-col items-center"},H={class:"font-semibold text-lg"},R=["src"],I={class:"font-semibold mt-1 text-sm"},K={class:"text-xs font-light text-gray-400"},G={class:"text-xs font-light text-gray-400"};function J(e,s,o,a,t,r){return n(),c("div",A,[i("div",j,[i("div",E,[i("div",O,[i("span",M,[r.nowWeather?(n(),c("span",N,d(Math.floor(r.nowWeather.temperature))+"°C",1)):m("",!0)]),i("div",P,[i("div",$,[f(" Ветер: "),r.nowWeather?(n(),c("span",q,d(r.nowWeather.windspeed)+" m/s",1)):m("",!0)]),i("div",z,[f(" Осадки: "),r.nowWeather?(n(),c("span",V,d(r.nowWeather.precipitation_probability)+" %",1)):m("",!0)])]),C]),r.nowWeather?(n(),c("img",{key:0,src:r.nowWeather.img,alt:"",class:"h-24"},null,8,L)):m("",!0)]),i("div",T,[(n(!0),c(u,null,g(r.forecast,l=>(n(),c("div",B,[i("span",H,d(l.time.format("HH:mm")),1),i("img",{src:l.img,alt:"",class:"h-10 fill-current text-gray-400 mt-3"},null,8,R),i("div",I,d(Math.floor(l.temperature))+"°C ",1),i("div",K," Ветер: "+d(l.windspeed)+" m/s ",1),i("div",G," Осадки: "+d(l.precipitation_probability)+" % ",1)]))),256))])])])}const Q=x(S,[["render",J]]),U="/snowcam/previews/3212b47c65ccc0cb9759f5c08632c563.jpg",X="/snowcam/previews/ffa10e45b1d87ab0aa8796bc7969046b.jpg",Y="/snowcam/previews/d5361ff25a96271df9ac614d9138806a.jpg",Z="/snowcam/previews/197f1dde9a2c929cca5496f225cc2d62.jpg",ee={class:"grid max-w-[26rem] sm:max-w-[52.5rem] mt-16 sm:mt-20 md:mt-32 mb-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 mx-auto gap-6 lg:gap-y-8 xl:gap-x-8 lg:max-w-7xl px-4 sm:px-6 lg:px-8"},te={class:"group relative rounded-3xl bg-slate-50 p-6 dark:bg-slate-800/80 dark:highlight-white/5 hover:bg-slate-100 dark:hover:bg-slate-700/50"},se={class:"flex flex-wrap items-center mt-6"},re={class:"text-sm leading-6 text-slate-900 dark:text-white font-semibold group-hover:text-sky-500 dark:group-hover:text-sky-400"},ie={class:"w-full flex-none text-[0.8125rem] leading-6 text-slate-500 dark:text-slate-400"},ae={data(){return{videos:[{title:"Ледник Богдановича",description:"Верхняя станция, камера в сторону сноупарка",src:"https://ipcam.kz/cam6/index.m3u8",poster:U},{title:"Средняя станция",description:"Средняя станция, где пили кофе и ели хотдоги",src:"https://ipcam.kz/cam5/index.m3u8",poster:X},{title:"Базовая станция, бугель",description:"Бугель на базовой станции",src:"https://ipcam.kz/cam2/index.m3u8",poster:Y},{title:"Базовая станция",description:"Базовая станция",src:"https://ipcam.kz/cam1/index.m3u8",poster:Z}]}}},oe=Object.assign(ae,{__name:"App",setup(e){return(s,o)=>(n(),c(u,null,[_(Q),i("ul",ee,[(n(!0),c(u,null,g(s.videos,a=>(n(),c("li",te,[_(F,{src:a.src,poster:a.poster},null,8,["src","poster"]),i("div",se,[i("h2",re,d(a.title),1),i("p",ie,d(a.description),1)])]))),256))])],64))}});w(oe).mount("#app");
